!function(e){e.each(["frontend/element_ready/wd_dynamic_discounts_table.default"],function(t,n){woodmartThemeModule.wdElementorAddAction(n,function(){woodmartThemeModule.renderDynamicDiscountsTable()})}),woodmartThemeModule.renderDynamicDiscountsTable=function(){var t=e(".variations_form");let a=e(".wd-dynamic-discounts"),n=a.html();function i(){e(".wd-dynamic-discounts tbody tr").each(function(){var t=e(this);let n=t.data("min");t.off("click").on("click",function(){e('.quantity input.qty[name="quantity"]').val(n).trigger("change")})})}function o(t,i){t.find("tbody tr").each(function(){var t=e(this),n=t.data("min"),a=t.data("max");!a&&n<=i||n<=i&&i<=a?t.addClass("wd-active"):t.removeClass("wd-active")})}t.each(function(){e(this).on("found_variation",function(t,n){e.ajax({url:woodmart_settings.ajaxurl,data:{action:"woodmart_update_discount_dynamic_discounts_table",variation_id:n.variation_id},beforeSend:function(){a.find(".wd-loader-overlay").addClass("wd-loading")},success:t=>{var n=a.attr("class");woodmartThemeModule.removeDuplicatedStylesFromHTML(t,function(t){a.replaceWith(t)}),(a=e(".wd-dynamic-discounts")).attr("class",n),i(),o(a,e(this).find('[name="quantity"]').val()),a.find(".wd-loader-overlay").removeClass("wd-loading")},dataType:"json",method:"GET"})}).on("click",".reset_variations",function(){a.html(n),i(),o(e(".wd-dynamic-discounts"),e(this).closest("form").find('.quantity input.qty[name="quantity"]').val())})}),i(),e('.quantity input.qty[name="quantity"]').off("change").on("change",function(){o(a,e(this).val())})},e(document).ready(()=>{woodmartThemeModule.renderDynamicDiscountsTable()})}(jQuery);