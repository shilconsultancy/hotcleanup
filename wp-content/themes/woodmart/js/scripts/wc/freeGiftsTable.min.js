jQuery.each(["frontend/element_ready/wd_cart_table.default"],function(e,t){woodmartThemeModule.wdElementorAddAction(t,function(e){woodmartThemeModule.addGiftProduct()})}),document.querySelector(".site-content").classList.contains("wd-builder-on")&&jQuery(document.body).on("wc_fragment_refresh updated_wc_div",function(e){var t,d=document.querySelector(".wd-fg");d&&((t=d.querySelector(".wd-loader-overlay"))&&t.classList.add("wd-loading"),jQuery.ajax({url:woodmart_settings.ajaxurl,data:{action:"woodmart_update_gifts_table"},method:"POST",success:function(e){var t;e&&d&&e.hasOwnProperty("html")&&((t=document.createElement("div")).innerHTML=e.html,0===(childNodes=t.querySelector(".wd-fg").childNodes).length?d.classList.add("wd-hide"):d.classList.remove("wd-hide"),d.replaceChildren(...childNodes))},error:function(){console.log("ajax update gifts table error")},complete:function(){t&&t.classList.remove("wd-loading")}}))}),woodmartThemeModule.addGiftProduct=function(){var e=document.querySelector(".site-content").classList.contains("wd-builder-on");(listenerArea=e?document.querySelector(".site-content .woocommerce"):document.querySelector(".cart-content-wrapper"))&&listenerArea.addEventListener("click",function(e){var t,d=e.target.closest(".wd-add-gift-product");d&&(e.preventDefault(),t=d.closest(".wd-fg").querySelector(".wd-loader-overlay"),e=d.dataset.productId,d.classList.contains("wd-disabled")||(t.classList.add("wd-loading"),jQuery.ajax({url:woodmart_settings.ajaxurl,data:{action:"woodmart_add_gift_product",product_id:e,security:d.dataset.security},method:"POST",success:function(e){e&&jQuery(document.body).trigger("wc_update_cart")},error:function(){console.log("ajax adding gift to cart error")},complete:function(){t.classList.remove("wd-loading")}})))})},window.addEventListener("load",function(){woodmartThemeModule.addGiftProduct()});